# TailBlazorLite
Tailwind JIT adaptation of default Blazor WASM template.  See also [TailBlazor](https://github.com/McNerdius/TailBlazor/).

It's still the basic counter demo with the same look and feel, and the Tailwind CSS is just a quick redo of the pre-existing Bootstrap, that's not really the point of the repo.  The relevant "getting started" repos/demos i've seen are lacking - i want to show what Tailwind CSS / Blazor integration looks like had we *kept going* with *that* aspect of the project.

The *essential* bits are:

* Tailwind 2.2.4 in JIT mode and its new CLI.
  * No `cross-env` needed.
* `postcss-import` used to `@import` Blazor's Scoped CSS outputs.  If your project has `razor.css` files, they will get bundled together and placed in an `obj` folder.  We can use Tailwind CSS syntax (`@apply` etc) and then import them into the "master" `App.css`.
* `IntermediateOutputPath` and `AppendTargetFrameworkToOutputPath` set in the `.csproj` file so that Debug and Release Blazor builds share the same `obj` path, which contains the CSS file we `@import` above.
* watch, build, and publish npm scripts in `package.json` to compile our Tailwind-oriented `App.css` (with `@apply` etc) down to vanilla CSS and place it in the `wwwroot` folder.  The resulting `App.min.css` is what gets referenced in `index.html`.
* An msbuild "Target" (named `tailwind build`) in the `csproj` to run the npm build script *after* first building the Blazor bits.  Since Tailwind will be looking for CSS files generated by Blazor, this needs to be run *after* build, *not before*.

Some *deeper integration* bits:

* Checking for a node installation and installing npm packages if need be. (zzz...)
* `watch.ps1` to launch both the Blazor app and Tailwind JIT in their own `watch` modes.
  * The `tailwind build` msbuild Target does a single build of your CSS when you hit F5 in Visual Studio or use `dotnet run`.  Using either of these by themselves, CSS changes will not be applied.  (Also note, Hot Reloads won't trigger the `tailwind build` Target, as it doesn't trigger a build.)
  * In order to take advantage of Tailwind JIT's *fast* incremental builds, and not restart your app in Visual Studio every time you change your CSS, running `npm run watch` is the way to go.
* VS Code Tasks & Launch Configurations for Debug & Watch.  The `Watch` Launch config is a more robust `watch.ps1` - letting you launch your Blazor App and Tailwind JIT in `watch` mode via F5.


# Upcoming

Notes on the Azure Static Web Apps deployment.  Azure Static Web Apps "automagic" deployment falls short here: it sees `package.json` and assumes this is a JS-ecosystem project.  We have to give it a bit of extra help.
