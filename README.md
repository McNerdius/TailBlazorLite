# TailBlazorLite

Tailwind JIT adaptation of default Blazor WASM template. See also [TailBlazor](https://github.com/McNerdius/TailBlazor/).

### NOTE: The "full" TailBlazor repo linked above will soon be overhauled to include this and other templates. This repo will be retired once that's done !

---

It's still the basic counter demo with the same look and feel, and the Tailwind CSS is just a quick redo of the pre-existing Bootstrap, that's not really the point of the repo. The relevant "getting started" repos/demos i've seen are lacking - i want to show what Tailwind CSS / Blazor integration looks like had we _kept going_ with _that_ aspect of the project.

The _essential_ bits are:

- Tailwind 3.0 alpha !
  - No `cross-env` needed.
- `postcss-import` used to `@import` Blazor's Scoped CSS outputs. If your project has `razor.css` files, they will get bundled together and placed in an `obj` folder. We can use Tailwind CSS syntax (`@apply` etc) and then import them into the "master" `App.css`.
- `IntermediateOutputPath` and `AppendTargetFrameworkToOutputPath` set in the `.csproj` file so that Debug and Release Blazor builds share the same `obj` path, which contains the CSS file we `@import` above.
- watch, build, and publish npm scripts in `package.json` to compile our Tailwind-oriented `App.css` (with `@apply` etc) down to vanilla CSS and place it in the `wwwroot` folder. The resulting `App.min.css` is what gets referenced in `index.html`.
- An msbuild "targets" file, referenced in the main `csproj` will run tailwind-specific npm build script _after_ first building the Blazor bits. Since Tailwind will be looking for CSS files generated by Blazor, this needs to be run _after_ build, _not before_.

Some _deeper integration_ bits:

- Checking for a node installation and installing npm packages if need be. (zzz...)
- `watch.ps1` to launch both the Blazor app and Tailwind JIT in their own `watch` modes.
  - The `tailwind build` msbuild Target does a single build of your CSS when you hit F5 in Visual Studio or use `dotnet run`. Using either of these by themselves, CSS edits will not be applied "live". (Also note, Hot Reloads won't trigger the `tailwind build` Target, as it doesn't trigger a build.)
  - To take advantage of Tailwind JIT's _fast_ incremental builds, and not restart your app in Visual Studio every time you change your CSS, using `watch.ps1` or equivalent is the way to go.
- VS Code Tasks & Launch Configurations for Debug & Watch. The `Watch` Launch config is a more robust `watch.ps1` - letting you launch your Blazor App and Tailwind JIT in `watch` mode via F5 and ensuring the npm task is terminated along with the dotnet task.

# Upcoming

Notes on the Azure Static Web Apps deployment. Azure Static Web Apps "automagic" deployment falls short here: it sees `package.json` and assumes this is a JS-ecosystem project. We have to give it a bit of extra help.

# Roadmap

- Keep `main` and in sync with .NET 6 previews and any Tailwind CSS releases that change the still-preview JIT mode.
- When .NET 6 / Tailwind JIT are stable, put a `tailblazor` template on NuGet and use branches to keep up with previews.
